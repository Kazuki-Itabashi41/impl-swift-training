## å®Ÿä¾‹ã‚’é€šã˜ã¦ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ç†è§£ã™ã‚‹

ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å…·ä½“ä¾‹ã¨ã—ã¦ã€æ•´æ•°ã‚’äºŒé€²æ•°ã«å¤‰æ›ã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã®ä¾‹ã§ã¯ã€æ¡ä»¶åˆ†å²ã‚„ç¹°ã‚Šè¿”ã—ã®æ§‹æ–‡ã‚’åŠ¹æžœçš„ã«çµ„ã¿åˆã‚ã›ã€ã‚·ãƒ³ãƒ—ãƒ«ã§ç›´æ„Ÿçš„ãªå®Ÿè£…ãŒè¡Œã‚ã‚Œã¦ã„ã¾ã™ã€‚

é¡Œæã¯ä»¥ä¸‹ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚
ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€CustomTextField å†…ã§ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ä½¿ã„ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ¤œè¨¼ã—ã¦ã„ã¾ã™ã€‚

```swift
// ã‚«ã‚¹ã‚¿ãƒ TextField
struct CustomTextField: View {
    @Binding var text: String
    @Binding var binaryResult: String
    @State private var isError: Bool = false
    var body: some View {
        VStack(spacing: 12, content: {
            TextField("å¥½ã¿ã®æ•°å­—ã‚’å…¥ã‚Œã¦ã­ðŸ’•", text: $text)
                .textFieldStyle(RoundedBorderTextFieldStyle())
                .frame(width: ScreenSize.width * 0.75)
                .keyboardType(.numberPad)
                .onChange(of: text, initial: false) {
                    print("isErrorã¯\(isError)")
                    isError = false
                    binaryResult = ""
                    print("isErrorã¯\(isError)")
                    do {
                        try validatImputNumber(inputValue: text)
                    } catch {
                        isError = true
                    }
                    print("isErrorã¯\(isError)")
                }

            Text("æœ‰åŠ¹ãªå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
                .foregroundColor(.white)
                .opacity(isError ? 1 : 0)
        })
    }
    // ã‚­ãƒ£ã‚¹ãƒˆã«å¤±æ•—ã—ãŸæ™‚ã¯castingrorã‚’è¿”ã™
    private func validatImputNumber(inputValue: String) throws -> Int32 {
        if let inputValue = Int32(inputValue) {
            print("inputValueã¯\(inputValue)")
            return inputValue
        } else {
            throw OperationError.castingError
        }
    }
}
```

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®æµã‚Œ

### å…¥åŠ›ã®ç›£è¦– (onChange)

onChange ã‚’ä½¿ã£ã¦ã€text ãŒå¤‰æ›´ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å…¥åŠ›å€¤ã‚’æ¤œè¨¼ã—ã¦ã„ã¾ã™ã€‚

å…¥åŠ›ãŒæœ‰åŠ¹ãªæ•´æ•°ã‹ã©ã†ã‹ã‚’æ¤œè¨¼ã—ã€ç„¡åŠ¹ãªå…¥åŠ›ãŒã‚ã‚Œã°ã€isError ã‚’ true ã«è¨­å®šã—ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚

### æ¤œè¨¼å‡¦ç† (validatImputNumber)

ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€å…¥åŠ›å€¤ãŒæ•´æ•°ã«å¤‰æ›å¯èƒ½ã‹ã©ã†ã‹ã‚’æ¤œè¨¼ã—ã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸå ´åˆã¯ä¾‹å¤–ã‚’ã‚¹ãƒ­ãƒ¼ã—ã¾ã™ã€‚

```swift
private func validatImputNumber(inputValue: String) throws -> Int32 {
    if let inputValue = Int32(inputValue) {
        return inputValue
    } else {
        throw OperationError.castingError
    }
}
```
