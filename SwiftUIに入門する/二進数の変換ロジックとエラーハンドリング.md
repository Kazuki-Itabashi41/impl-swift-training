## ã¯ã˜ã‚ã«
ã•ã¦ã€ã“ã‚Œã¾ã§SwiftUIã‚’ç”¨ã„ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å®Ÿè£…ã¨ã€çŠ¶æ…‹ç®¡ç†ã«ã¤ã„ã¦å­¦ã³ã¾ã—ãŸã€‚
ã“ã“ã¾ã§ã®å†…å®¹ã§ã€è¶³ã‚Šã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã‚Šã¾ã™ã­ã€‚
ãã†ã€äºŒé€²æ•°ã®å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°éƒ¨åˆ†ã§ã™ã€‚

ã“ã¡ã‚‰ã¯ã€ã€ŒSwiftUIã€ã¨ã„ã†ã‚ˆã‚Šã€ã€ŒSwiftã€ã‚’ã©ã†æ›¸ãã‹ã¨é–¢ã‚ã‚‹è©±ã§ã™ã€‚
è©³ç´°ã¯åˆ¶å¾¡æ§‹æ–‡ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ç« ã«è­²ã‚Šã¾ã™ã€‚å…·ä½“çš„ãªãƒ­ã‚¸ãƒƒã‚¯ã®æ„å›³ã«èˆˆå‘³ã‚’è¦šãˆãŸæ–¹ã¯ã€ãœã²ãã¡ã‚‰ã‚‚åˆã‚ã›ã¦ã”è¦§ãã ã•ã„ã€‚

ä¸€æ—¦ã€å®Ÿè£…ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

```swift
// ã‚«ã‚¹ã‚¿ãƒ TextField
struct CustomTextField: View {
    @Binding var text: String
    @Binding var binaryResult: String
    @State private var isError: Bool = false
    var body: some View {
        VStack(spacing: 12, content: {
            TextField("å¥½ã¿ã®æ•°å­—ã‚’å…¥ã‚Œã¦ã­ğŸ’•", text: $text)
                .textFieldStyle(RoundedBorderTextFieldStyle())
                .frame(width: ScreenSize.width * 0.75)
                .keyboardType(.numberPad)
                .onChange(of: text, initial: false) {
                    print("isErrorã¯\(isError)")
                    isError = false
                    binaryResult = ""
                    print("isErrorã¯\(isError)")
                    do {
                        try validatImputNumber(inputValue: text)
                    } catch {
                        isError = true
                    }
                    print("isErrorã¯\(isError)")
                }

            Text("æœ‰åŠ¹ãªå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
                .foregroundColor(.white)
                .opacity(isError ? 1 : 0)
        })
    }
    // ã‚­ãƒ£ã‚¹ãƒˆã«å¤±æ•—ã—ãŸæ™‚ã¯castingrorã‚’è¿”ã™
    private func validatImputNumber(inputValue: String) throws -> Int32 {
        if let inputValue = Int32(inputValue) {
            print("inputValueã¯\(inputValue)")
            return inputValue
        } else {
            throw OperationError.castingError
        }
    }
}

/// äºŒé€²æ•°å¤‰æ›ã«é–¢ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£æ§‹é€ ä½“
struct BinaryCalculator {

    /// å…¥åŠ›æ–‡å­—åˆ—ã‚’æ¤œè¨¼ã—ã€æ•´æ•°ã«å¤‰æ›ã™ã‚‹
    static func validateInput(_ input: String) throws -> Int {
        // å…¥åŠ›æ–‡å­—åˆ—ã‚’æ•´æ•°ã«å¤‰æ›å¯èƒ½ã‹ç¢ºèª
        guard let number = Int(input) else {
            // å¤‰æ›å¤±æ•—æ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚¹ãƒ­ãƒ¼
            throw OperationError.castingError
        }
        return number
    }

    /// æ•´æ•°ã‚’äºŒé€²æ•°ã«å¤‰æ›ã™ã‚‹
    static func convertToBinary(_ number: Int) -> String {
        var number = number
        var binaryResult = "" // äºŒé€²æ•°ã®çµæœã‚’ä¿æŒã™ã‚‹æ–‡å­—åˆ—

        // æ•°å€¤ãŒ0ã«ãªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’å®Ÿè¡Œ
        while number > 0 {
            // 2ã§å‰²ã£ãŸä½™ã‚Šã‚’è¨ˆç®—
            let remainder = number % 2
            // äºŒé€²æ•°ã®å„æ¡ã‚’å…ˆé ­ã«è¿½åŠ 
            binaryResult = String(remainder) + binaryResult
            // æ•°å€¤ã‚’2ã§å‰²ã£ãŸå•†ã‚’æ¬¡ã®ãƒ«ãƒ¼ãƒ—ã«ä½¿ç”¨
            number /= 2
        }

        // çµæœãŒç©ºã®å ´åˆï¼ˆå…¥åŠ›ãŒ0ã®å ´åˆï¼‰ã¯ "0" ã‚’è¿”ã™
        return binaryResult.isEmpty ? "0" : binaryResult
    }
}

```

æœ€çµ‚çš„ãªã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚
```swift

import SwiftUI

// ãƒ‡ãƒã‚¤ã‚¹ã®ç”»é¢ã‚µã‚¤ã‚ºã‚’å–å¾—ã™ã‚‹æ§‹é€ ä½“
struct ScreenSize {
    static let width: CGFloat = UIScreen.main.fixedCoordinateSpace.bounds.width
    static let height: CGFloat = UIScreen.main.fixedCoordinateSpace.bounds.height
}


struct ContentView: View {
    @State private var inputNumber: String = ""
    @State private var binaryResult: String = ""
    @State private var isError: Bool = false

    var body: some View {
        ZStack {
            // UIãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
            VStack(spacing: 12) {
                Spacer()

                // ã‚«ã‚¹ã‚¿ãƒ TextField
                CustomTextField(text: $inputNumber, binaryResult: $binaryResult)

                // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
                if isError {
                    Text("æœ‰åŠ¹ãªå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
                        .foregroundColor(.red)
                }

                // å¤‰æ›ãƒœã‚¿ãƒ³
                if binaryResult.isEmpty {
                    ConvertButton(calculateBinary: calculateBinary)
                }

                // çµæœè¡¨ç¤º
                if !binaryResult.isEmpty {
                    ResultText(inputNumber: $inputNumber, binaryResult: $binaryResult)
                }

                Spacer()
            }
        }
        .frame(maxWidth: .infinity)
        .background(Color.black)
        .ignoresSafeArea()
    }

    // äºŒé€²æ•°å¤‰æ›ã®ãƒ­ã‚¸ãƒƒã‚¯
    private func calculateBinary() {
        do {
            // å…¥åŠ›å€¤ã‚’æ¤œè¨¼ã—ã€æ•´æ•°ã«å¤‰æ›
            let number = try BinaryCalculator.validateInput(inputNumber)

            // æ•´æ•°ã‚’äºŒé€²æ•°ã«å¤‰æ›
            binaryResult = BinaryCalculator.convertToBinary(number)

            // ã‚¨ãƒ©ãƒ¼ãƒ•ãƒ©ã‚°ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆæ­£å¸¸å‡¦ç†ã®å ´åˆï¼‰
            isError = false
        } catch {
            // å…¥åŠ›å€¤ãŒç„¡åŠ¹ã ã£ãŸå ´åˆã€çµæœã‚’ã‚¯ãƒªã‚¢
            binaryResult = ""
            // ã‚¨ãƒ©ãƒ¼ãƒ•ãƒ©ã‚°ã‚’è¨­å®š
            isError = true
        }
    }
}

/// äºŒé€²æ•°å¤‰æ›ã«é–¢ã™ã‚‹æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£æ§‹é€ ä½“
struct BinaryCalculator {

    /// å…¥åŠ›æ–‡å­—åˆ—ã‚’æ¤œè¨¼ã—ã€æ•´æ•°ã«å¤‰æ›ã™ã‚‹
    static func validateInput(_ input: String) throws -> Int {
        // å…¥åŠ›æ–‡å­—åˆ—ã‚’æ•´æ•°ã«å¤‰æ›å¯èƒ½ã‹ç¢ºèª
        guard let number = Int(input) else {
            // å¤‰æ›å¤±æ•—æ™‚ã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚¹ãƒ­ãƒ¼
            throw OperationError.castingError
        }
        return number
    }

    /// æ•´æ•°ã‚’äºŒé€²æ•°ã«å¤‰æ›ã™ã‚‹
    static func convertToBinary(_ number: Int) -> String {
        var number = number
        var binaryResult = "" // äºŒé€²æ•°ã®çµæœã‚’ä¿æŒã™ã‚‹æ–‡å­—åˆ—

        // æ•°å€¤ãŒ0ã«ãªã‚‹ã¾ã§ç¹°ã‚Šè¿”ã—å‡¦ç†ã‚’å®Ÿè¡Œ
        while number > 0 {
            // 2ã§å‰²ã£ãŸä½™ã‚Šã‚’è¨ˆç®—
            let remainder = number % 2
            // äºŒé€²æ•°ã®å„æ¡ã‚’å…ˆé ­ã«è¿½åŠ 
            binaryResult = String(remainder) + binaryResult
            // æ•°å€¤ã‚’2ã§å‰²ã£ãŸå•†ã‚’æ¬¡ã®ãƒ«ãƒ¼ãƒ—ã«ä½¿ç”¨
            number /= 2
        }

        // çµæœãŒç©ºã®å ´åˆï¼ˆå…¥åŠ›ãŒ0ã®å ´åˆï¼‰ã¯ "0" ã‚’è¿”ã™
        return binaryResult.isEmpty ? "0" : binaryResult
    }
}


enum OperationError : Error {
    case castingError
}

// ã‚«ã‚¹ã‚¿ãƒ TextField
struct CustomTextField: View {
    @Binding var text: String
    @Binding var binaryResult: String
    @State private var isError: Bool = false
    var body: some View {
        VStack(spacing: 12, content: {
            TextField("å¥½ã¿ã®æ•°å­—ã‚’å…¥ã‚Œã¦ã­ğŸ’•", text: $text)
                .textFieldStyle(RoundedBorderTextFieldStyle())
                .frame(width: ScreenSize.width * 0.75)
                .keyboardType(.numberPad)
                .onChange(of: text, initial: false) {
                    print("isErrorã¯\(isError)")
                    isError = false
                    binaryResult = ""
                    print("isErrorã¯\(isError)")
                    do {
                        try validatImputNumber(inputValue: text)
                    } catch {
                        isError = true
                    }
                    print("isErrorã¯\(isError)")
                }

            Text("æœ‰åŠ¹ãªå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
                .foregroundColor(.white)
                .opacity(isError ? 1 : 0)
        })
    }
    // ã‚­ãƒ£ã‚¹ãƒˆã«å¤±æ•—ã—ãŸæ™‚ã¯castingrorã‚’è¿”ã™
    private func validatImputNumber(inputValue: String) throws -> Int32 {
        if let inputValue = Int32(inputValue) {
            print("inputValueã¯\(inputValue)")
            return inputValue
        } else {
            throw OperationError.castingError
        }
    }
}

// è¨ˆç®—çµæœè¡¨ç¤ºç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
struct ResultText: View {
    // TODO: å‘½åã©ã†ã«ã‹ã—ãŸã„
    @Binding var inputNumber: String
    @Binding var binaryResult: String

    var body: some View {
        Text("""
        \(inputNumber)ã‚’äºŒé€²æ•°ã«å¤‰æ›ã™ã‚‹ã¨\(binaryResult)ã«ãªã‚Šã¾ã™
        """)
        .frame(width: ScreenSize.width * 0.75)
        .padding(24)
        .background(Color.white)
        .cornerRadius(8)
    }
}

```